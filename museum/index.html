<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Image Zoom and Pan Example</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        .image-container {
            position: relative;
            width: 500px;
            height: 300px;
            overflow: hidden;
            border: 4px solid #333;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .zoomable-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.2s ease;
            cursor: move;
        }
        .zoom-controls {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        .zoom-controls button {
            background-color: #333;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <img id="zoomImage" class="zoomable-image" 
             src="images/metropol/DT1947.jpg" 
             alt="Zoomable and Pannable Image">
        <div class="zoom-controls">
            <button onclick="zoomIn()">Zoom In</button>
            <button onclick="zoomOut()">Zoom Out</button>
        </div>
    </div>

    <script>
        const container = document.querySelector('.image-container');
        const image = document.getElementById('zoomImage');
        let scale = 1;
        let isDragging = false;
        let startX, startY, translateX = 0, translateY = 0;

        function zoomIn() {
            scale = Math.min(scale * 1.2, 3);
            updateImageTransform();
        }

        function zoomOut() {
            scale = Math.max(scale / 1.2, 1);
            updateImageTransform();
        }

        function updateImageTransform() {
            image.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;
        }

        image.addEventListener('mousedown', (e) => {
            isDragging = true;
            startX = e.clientX - translateX;
            startY = e.clientY - translateY;
            image.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;

            translateX = e.clientX - startX;
            translateY = e.clientY - startY;

            // Limit panning based on zoom level
            const maxTranslateX = (scale - 1) * (container.offsetWidth / 2);
            const maxTranslateY = (scale - 1) * (container.offsetHeight / 2);

            translateX = Math.min(Math.max(translateX, -maxTranslateX), maxTranslateX);
            translateY = Math.min(Math.max(translateY, -maxTranslateY), maxTranslateY);

            updateImageTransform();
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            image.style.cursor = 'move';
        });
    </script>
</body>
</html>