# Mobile IP의 주소(Address), 에이전트(Agent), 주요기능 및 프로토콜

## 1. Mobile IP의 개요
Mobile IP는 사용자가 이동 중에도 동일한 IP 주소를 유지하면서 인터넷에 연결할 수 있게 해주는 프로토콜입니다. 이 프로토콜은 이동하는 사용자가 네트워크의 다른 부분에 있을 때에도 항상 원활하게 인터넷 서비스에 접근할 수 있도록 합니다. 주로 모바일 기기와 이동 네트워크에서 사용됩니다.

## 2. 주요 주소(Address) 개념

### 1) **Home Address**
   - **설명**: 사용자가 이동하기 전, 즉 홈 네트워크에서 사용되는 고유의 IP 주소입니다. 사용자가 어느 네트워크에 있든지 동일한 IP 주소를 유지할 수 있도록 해줍니다. 일반적으로 홈 네트워크의 라우터에서 이 주소를 할당합니다.
   - **용도**: 사용자의 실제 위치를 추적하며, 이동 중에도 동일한 IP 주소를 제공하는 역할을 합니다.

### 2) **Care-of Address (CoA)**
   - **설명**: 사용자가 현재 위치한 네트워크에서 할당받은 임시 IP 주소입니다. 사용자가 네트워크를 이동할 때마다 새롭게 할당됩니다.
   - **용도**: 이동 중인 사용자의 위치를 나타내며, 패킷은 이 주소로 전달됩니다. 

---

## 3. 에이전트(Agent)

### 1) **Home Agent**
   - **설명**: 사용자가 홈 네트워크에 있을 때 그 위치를 추적하고, 이동 중에도 해당 사용자의 홈 주소로 수신된 패킷을 처리합니다. 홈 네트워크의 라우터 역할을 하며, 패킷 전달을 담당합니다.
   - **기능**: 
     - 사용자에게 전송되는 패킷을 Care-of Address로 포워딩합니다.
     - 사용자가 이동할 때마다 새로운 Care-of Address를 등록합니다.

### 2) **Foreign Agent**
   - **설명**: 사용자가 외부 네트워크에 있을 때 해당 네트워크에서 할당받은 Care-of Address를 관리하는 에이전트입니다. Foreign Agent는 사용자가 이동하는 동안 Care-of Address를 제공하고, Home Agent와의 패킷 전달을 처리합니다.
   - **기능**: 
     - 사용자의 Care-of Address를 제공하고, 패킷을 전달하는 역할을 합니다.
     - 외부 네트워크에서 Mobile Node의 위치 정보를 관리합니다.

---

## 4. 주요 기능

### 1) **이동성 유지 (Mobility Management)**
   - 사용자가 이동하는 동안 IP 주소를 변경하지 않고도 인터넷 서비스를 계속 사용할 수 있도록 보장합니다. 이동 중에도 연결이 끊어지지 않고 지속적인 서비스가 가능합니다.

### 2) **패킷 전달 (Packet Forwarding)**
   - 사용자가 이동하면, 패킷이 원래의 IP 주소(홈 주소)로 도달하더라도, Home Agent가 이를 사용자의 현재 위치인 Care-of Address로 전달합니다.

### 3) **경로 최적화 (Route Optimization)**
   - 패킷이 Home Agent를 거쳐 이동하는 방식은 비효율적일 수 있습니다. 따라서 Route Optimization 기능을 사용하면, 패킷이 직접적으로 이동할 수 있는 경로를 제공하여 속도와 효율성을 향상시킬 수 있습니다.

---

## 5. 주요 프로토콜

### 1) **등록 프로토콜 (Registration Protocol)**
   - **설명**: Mobile IP의 등록 프로토콜은 Mobile Node가 홈 네트워크에서 이동 중에 새로운 위치를 등록할 수 있도록 해줍니다. 이 프로토콜을 사용하여 새로운 Care-of Address를 Home Agent에 알리고, 홈 에이전트는 이 주소로 패킷을 전달합니다.
   - **절차**: 
     1. Mobile Node는 Foreign Agent에 Care-of Address를 요청합니다.
     2. Foreign Agent는 이 정보를 Home Agent에 전달합니다.
     3. Home Agent는 해당 사용자의 패킷을 새로운 Care-of Address로 전달합니다.

### 2) **패킷 전달 프로토콜 (Packet Forwarding Protocol)**
   - **설명**: Home Agent가 Mobile Node의 이동을 추적하고, 사용자에게 전달된 패킷을 적절한 Care-of Address로 전달하는 프로토콜입니다. 이 프로토콜을 통해 이동 중에도 사용자는 기존의 IP 주소를 유지할 수 있습니다.

### 3) **Route Optimization**
   - **설명**: Mobile IP에서는 기본적으로 패킷이 Home Agent를 통해 전달되지만, 이는 비효율적일 수 있습니다. Route Optimization은 패킷이 직접적으로 이동하도록 하여 전달 시간을 단축시키는 방법입니다.
   - **기능**: 
     - 패킷이 Home Agent를 거치지 않고 Mobile Node 간에 직접 전달되도록 경로를 최적화합니다.

---

## 6. 결론

Mobile IP는 이동하는 사용자에게 인터넷 서비스의 연속성을 보장하는 중요한 기술로, 이동 중에도 고유한 IP 주소를 유지할 수 있게 해줍니다. Home Address와 Care-of Address를 기반으로, Home Agent와 Foreign Agent는 사용자 위치를 추적하고, 패킷 전달을 관리하는 핵심적인 역할을 합니다. 이를 통해 사용자 이동성 및 네트워크 연결성을 효과적으로 관리할 수 있습니다.
