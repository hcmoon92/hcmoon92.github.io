# 웹 보안 취약점 5가지 및 대책

---

## 1. **SQL 인젝션 (SQL Injection)**

### 취약점 설명
- SQL 인젝션은 사용자가 입력한 데이터를 SQL 쿼리에 삽입하여 데이터베이스를 악용하는 공격입니다.
- 공격자는 데이터를 수정, 삭제하거나 민감한 정보를 탈취할 수 있습니다.

### 대책
- **Prepared Statements**와 **Parameterized Queries**를 사용하여 사용자가 입력한 데이터가 쿼리로 실행되지 않도록 합니다.
- 사용자 입력을 철저히 검증하고 **입력값 필터링** 및 **이스케이프 처리**를 통해 SQL 쿼리에 영향을 미치지 않도록 합니다.
- 최소 권한 원칙을 적용하여, 데이터베이스 계정에 대한 접근 권한을 제한합니다.

---

## 2. **크로스 사이트 스크립팅 (XSS, Cross-Site Scripting)**

### 취약점 설명
- XSS는 공격자가 악성 스크립트를 웹 페이지에 삽입하여 다른 사용자의 브라우저에서 실행되게 하는 공격입니다.
- 이를 통해 세션 탈취, 개인정보 유출, 악성 코드 실행 등의 피해를 발생시킬 수 있습니다.

### 대책
- **출력 시 이스케이프 처리**하여 사용자 입력을 HTML, JavaScript 코드로 실행되지 않도록 합니다.
- **Content Security Policy (CSP)**를 사용하여 신뢰할 수 있는 출처에서만 스크립트가 실행되도록 제한합니다.
- 사용자 입력값에 대해 **정규 표현식 검증**을 통해 스크립트 삽입을 방지합니다.

---

## 3. **크로스 사이트 요청 위조 (CSRF, Cross-Site Request Forgery)**

### 취약점 설명
- CSRF는 사용자가 의도치 않게 악성 요청을 보내도록 유도하는 공격입니다. 예를 들어, 공격자가 사용자가 인증된 상태에서 요청을 보낼 수 있습니다.
- 이 공격을 통해 사용자가 의도하지 않은 행동을 하게 될 수 있습니다 (예: 계좌 이체, 비밀번호 변경 등).

### 대책
- **CSRF 토큰**을 사용하여 각 요청이 정상적인 사용자의 요청임을 검증합니다.
- **SameSite 쿠키 속성**을 설정하여 다른 사이트에서 쿠키를 포함한 요청을 보낼 수 없도록 합니다.
- 상태 변경 요청을 **POST 방식**으로 제한하고, **GET 방식**으로 상태 변경을 허용하지 않습니다.

---

## 4. **불완전한 인증 및 세션 관리**

### 취약점 설명
- 불완전한 인증 및 세션 관리는 세션 하이재킹, 세션 고정 공격 등의 취약점을 발생시킬 수 있습니다.
- 공격자는 사용자의 인증 정보를 탈취하거나 세션을 탈취하여 불법으로 서비스를 이용할 수 있습니다.

### 대책
- 세션 ID를 **매 요청마다 갱신**하여 세션 하이재킹을 방지합니다.
- **세션 타임아웃**을 설정하여 일정 시간 동안 활동이 없으면 자동으로 로그아웃되도록 합니다.
- **강력한 비밀번호 정책**을 시행하고, 다단계 인증(MFA)을 적용하여 사용자 인증을 강화합니다.

---

## 5. **디렉터리 리스팅 (Directory Listing)**

### 취약점 설명
- 디렉터리 리스팅은 웹 서버의 설정 오류로 인해 웹 서버의 파일 목록이 외부에 노출되는 취약점입니다.
- 공격자는 이를 통해 민감한 파일을 찾거나 웹 서버의 구조를 파악할 수 있습니다.

### 대책
- **디렉터리 리스팅 비활성화**: 웹 서버에서 디렉터리 리스팅을 비활성화하여 파일 목록이 외부에 노출되지 않도록 합니다.
- **파일 접근 제어**: 민감한 파일에는 접근 제어를 설정하여 외부에서 접근할 수 없도록 합니다.
- **.htaccess 파일 활용**: Apache 웹 서버를 사용하는 경우, `.htaccess` 파일을 활용해 디렉터리 리스팅을 방지합니다.

---
