<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markmap Viewer</title>
  <script src="https://cdn.jsdelivr.net/npm/markmap-viewer/dist/index.min.js"></script>
</head>
<body>
  <svg id="mindmap" style="width: 100%; height: 100vh;"></svg>

  <script>
    async function loadMarkdown() {
      // Specify the path to your Markdown file
      const filePath = "../doc/sample.md";

      try {
        const response = await fetch(filePath);
        if (!response.ok) throw new Error(`Failed to fetch ${filePath}`);
        
        const text = await response.text();
        const { Markmap } = window.markmap;

        const svg = document.getElementById("mindmap");
        const mindmap = Markmap.create(svg);
        mindmap.setData(Markmap.transformMarkdown(text));
        mindmap.fit(); // Adjust the mindmap to fit the viewport
      } catch (error) {
        console.error(error);
        alert("Failed to load the Markdown file. Check the console for details.");
      }
    }

    // Load the Markdown file when the page loads
    window.addEventListener("DOMContentLoaded", loadMarkdown);
  </script>
</body>
</html>
