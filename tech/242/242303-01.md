# IPv4 사설IP 주소 관련 사항

## 1. 네트워크 설계 시 사설IP 주소 사용 이유
### 1) **주소 자원 절약**
- **공인 IP 주소**는 제한적인 자원으로, 많은 기기들이 인터넷에 연결되는 환경에서는 IP 주소의 소모가 빠르게 일어납니다. 사설 IP 주소를 사용하면 공인 IP의 소모를 줄이고, 내부 네트워크에서 다수의 장치가 하나의 공인 IP를 공유할 수 있습니다.

### 2) **보안성 향상**
- **사설 IP 주소**는 인터넷에서 직접 접근할 수 없으므로, 외부에서 내부 네트워크로의 접근을 막을 수 있습니다. 이로 인해 **보안이 강화**되며, 외부 공격으로부터 보호할 수 있습니다.

### 3) **네트워크 관리 용이성**
- 기업이나 가정에서 많은 수의 장치가 있을 때, 사설 IP 주소를 사용하여 네트워크 관리를 보다 효율적으로 할 수 있습니다. **내부 네트워크 구조**를 자유롭게 설계할 수 있습니다.

### 4) **비용 절감**
- 공인 IP 주소를 구매하는 것보다 **사설 IP 주소를 사용**하여 **주소 자원을 효율적으로 관리**하는 것이 비용 측면에서 유리합니다.

---

## 2. IPv4 사설IP 주소 대역
IPv4에서 사설 IP 주소 대역은 **RFC 1918**에 정의되어 있으며, 다음과 같은 범위로 설정되어 있습니다:

- **클래스 A**: `10.0.0.0` ~ `10.255.255.255` (넷마스크: 255.0.0.0)
  - 10.0.0.0 ~ 10.255.255.255 범위의 주소는 약 1677만 개의 호스트를 지원.
  
- **클래스 B**: `172.16.0.0` ~ `172.31.255.255` (넷마스크: 255.240.0.0)
  - 172.16.0.0 ~ 172.31.255.255 범위의 주소는 약 104만 개의 호스트를 지원.

- **클래스 C**: `192.168.0.0` ~ `192.168.255.255` (넷마스크: 255.255.0.0)
  - 192.168.0.0 ~ 192.168.255.255 범위의 주소는 약 65,000개의 호스트를 지원.

---

## 3. 주소변환(NAT: Network Address Translation) 방식의 종류
**NAT(Network Address Translation)**는 사설 네트워크의 IP 주소를 공인 IP 주소로 변환하는 기술로, 여러 가지 방식이 존재합니다.

### 1) **Static NAT (정적 NAT)**
- **1:1 매핑**: 사설 IP 주소와 공인 IP 주소를 일대일로 매핑하여 변환합니다. 
- 예를 들어, 내부의 사설 IP `192.168.0.10`을 외부의 공인 IP `203.0.113.1`로 매핑하여 사용합니다.
  
### 2) **Dynamic NAT (동적 NAT)**
- **다수의 사설 IP 주소**를 **다수의 공인 IP 주소**에 동적으로 매핑하여 사용합니다.
- 변환되는 공인 IP 주소는 미리 정의된 풀(pool)에서 선택되어 할당됩니다.

### 3) **PAT (Port Address Translation) 또는 NAT Overload**
- **여러 사설 IP 주소**가 **단일 공인 IP 주소**를 공유하도록 하는 방식입니다.
- 각 사설 IP 주소는 고유한 포트 번호를 통해 구분되며, 많은 기기들이 하나의 공인 IP를 사용하여 인터넷에 연결할 수 있습니다.
- 가장 많이 사용되는 NAT 방식이며, **사설 IP의 포트 번호**를 활용하여 여러 장치가 동시에 인터넷을 사용할 수 있도록 합니다.

---

## 4. 주소변환을 지원하는 장비
주소변환(NAT)을 지원하는 장비는 다음과 같습니다:

### 1) **라우터(Router)**
- 라우터는 NAT 기능을 제공하여 사설 네트워크와 공인 네트워크 간의 주소 변환을 수행합니다. 일반적으로 가정용 및 기업용 라우터에서 NAT 기능이 활성화되어 있습니다.

### 2) **방화벽(Firewall)**
- 방화벽은 보안의 일환으로 NAT 기능을 지원하여 내부 네트워크의 IP 주소를 외부 네트워크의 공인 IP 주소로 변환합니다. 이를 통해 외부의 공격으로부터 네트워크를 보호합니다.

### 3) **게이트웨이(Gateway)**
- 게이트웨이 장치는 사설 네트워크와 공인 네트워크 간의 트래픽을 처리하면서 NAT를 수행합니다. 주로 기업 환경에서 사용됩니다.

### 4) **모뎀(Modem)**
- 일부 **광대역 모뎀**이나 **인터넷 공유기**는 NAT 기능을 내장하여, 여러 개의 장치가 인터넷에 동시에 접속할 수 있도록 지원합니다.

---

## 결론
IPv4의 사설 IP 주소는 **주소 자원 절약**, **보안 강화**, **효율적인 네트워크 관리** 등 여러 장점으로 사용됩니다. 이를 통해 사설 네트워크에서 공인 IP 주소를 효과적으로 활용할 수 있습니다. **NAT** 기술을 통해 사설 네트워크와 공인 네트워크 간의 주소 변환을 처리하고, 다양한 방식의 NAT를 통해 효율적인 네트워크 구성이 가능합니다. 이를 지원하는 장비로는 **라우터**, **방화벽**, **게이트웨이**, **모뎀** 등이 있으며, 이들 장비는 네트워크 보안과 효율성을 높이는 중요한 역할을 합니다.
