<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe Panning and Zooming</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        #iframe-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            transform-origin: top left;
            cursor: grab;
        }
        iframe {
            width: 1200px;
            height: 800px;
            border: none;
        }
    </style>
</head>
<body>
    <button id="simulateClick">Simulate Click at Position</button>

    <div id="container">
        <div id="iframe-wrapper">
            <iframe id="iframe" src="https://www.artic.edu/artworks/28560/the-bedroom"></iframe>
        </div>
    </div>
    <script>
        const wrapper = document.getElementById('iframe-wrapper');
        const iframe = document.getElementById('iframe');
        const container = document.getElementById('container');
        let scale = 1, startX, startY, isPanning = false;

        // Panning functionality
        wrapper.addEventListener('mousedown', (e) => {
            isPanning = true;
            startX = e.clientX - wrapper.offsetLeft;
            startY = e.clientY - wrapper.offsetTop;
            wrapper.style.cursor = 'grabbing';
        });

        document.addEventListener('mouseup', () => {
            isPanning = false;
            wrapper.style.cursor = 'grab';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isPanning) return;

            const x = e.clientX - startX;
            const y = e.clientY - startY;

            const containerRect = container.getBoundingClientRect();
            const wrapperRect = wrapper.getBoundingClientRect();

            wrapper.style.left = `${Math.min(0, Math.max(x, containerRect.width - wrapperRect.width))}px`;
            wrapper.style.top = `${Math.min(0, Math.max(y, containerRect.height - wrapperRect.height))}px`;
        });

        // Zoom functionality
        document.addEventListener('wheel', (e) => {
            e.preventDefault();
            const zoomSpeed = 0.1;
            scale += e.deltaY > 0 ? -zoomSpeed : zoomSpeed;
            scale = Math.max(0.5, Math.min(3, scale)); // Limit zoom level
            wrapper.style.transform = `scale(${scale})`;
        });

        // Simulate Click Functionality
        const simulateClickBtn = document.getElementById('simulateClick');
        simulateClickBtn.addEventListener('click', () => {
            const targetX = 400; // X coordinate relative to iframe content
            const targetY = 450; // Y coordinate relative to iframe content

            const iframeRect = iframe.getBoundingClientRect();
            const clickX = iframeRect.left + targetX * scale; // Adjust for scale
            const clickY = iframeRect.top + targetY * scale;

            const clickEvent = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                clientX: clickX,
                clientY: clickY,
            });

            // Dispatch click event on the iframe element
            document.body.dispatchEvent(clickEvent);
        });
    </script>
</body>
</html>
