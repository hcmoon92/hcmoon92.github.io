<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mouse Click Coordinate Interaction</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #clickArea {
            width: 600px;
            height: 400px;
            background-color: white;
            border: 2px solid #333;
            position: relative;
            overflow: hidden;
        }
        .click-marker {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: red;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }
        #controlPanel {
            position: absolute;
            top: 10px;
            left: 10px;
            background-color: rgba(255,255,255,0.8);
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div id="controlPanel">
        <input type="number" id="xCoord" placeholder="X Coordinate" min="0" max="600">
        <input type="number" id="yCoord" placeholder="Y Coordinate" min="0" max="400">
        <button id="simulateClickBtn">Simulate Click</button>
    </div>
    <div id="clickArea">
    </div>

    <script>
        const clickArea = document.getElementById('clickArea');
        const xCoordInput = document.getElementById('xCoord');
        const yCoordInput = document.getElementById('yCoord');
        const simulateClickBtn = document.getElementById('simulateClickBtn');

        // Method 1: Manual Click Tracking
        clickArea.addEventListener('click', function(event) {
            // Get coordinates relative to the click area
            const rect = clickArea.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            // Create and add a marker at click location
            createClickMarker(x, y);
        });

        // Method 2: Programmatic Click Simulation
        simulateClickBtn.addEventListener('click', function() {
            const x = parseInt(xCoordInput.value);
            const y = parseInt(yCoordInput.value);

            if (x >= 0 && x <= 600 && y >= 0 && y <= 400) {
                // Simulate click at specified coordinates
                simulateClick(x, y);
            } else {
                alert('Coordinates must be between 0-600 for X and 0-400 for Y');
            }
        });

        // Function to create visual marker for clicks
        function createClickMarker(x, y) {
            // Remove previous markers
            const existingMarkers = clickArea.querySelectorAll('.click-marker');
            existingMarkers.forEach(marker => marker.remove());

            const marker = document.createElement('div');
            marker.classList.add('click-marker');
            marker.style.left = `${x}px`;
            marker.style.top = `${y}px`;
            
            // Add coordinates text
            const coordText = document.createElement('div');
            coordText.textContent = `(${Math.round(x)}, ${Math.round(y)})`;
            coordText.style.position = 'absolute';
            coordText.style.top = '15px';
            coordText.style.left = '15px';
            coordText.style.color = 'black';
            coordText.style.backgroundColor = 'rgba(255,255,255,0.7)';
            coordText.style.padding = '5px';
            coordText.style.borderRadius = '3px';

            clickArea.appendChild(marker);
            clickArea.appendChild(coordText);
        }

        // Simulate click at specific coordinates
        function simulateClick(x, y) {
            const event = new MouseEvent('click', {
                view: window,
                bubbles: true,
                cancelable: true,
                clientX: x + clickArea.getBoundingClientRect().left,
                clientY: y + clickArea.getBoundingClientRect().top
            });

            createClickMarker(x, y);
            clickArea.dispatchEvent(event);
        }
                
        // Explanation Example
        function clickWithDelay(x, y, delay) {
            setTimeout(() => {
                // This will actually wait and then execute
                console.log(`Simulating click at (${x}, ${y})`);
                simulateClick(x, y);
            }, delay);
        }

        // Usage
        clickWithDelay(100, 150, 3000); // Clicks after 1 second


    </script>
</body>
</html>